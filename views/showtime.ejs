<!DOCTYPE html>
<html>
<head>
<title>mingxuanSpace</title>
</head>
<style>
@font-face {
	font-family: 'Comfortaa-Regular';
	src: url('../fonts/Comfortaa/Comfortaa-Regular.eot');
	src: url('../fonts/Comfortaa/Comfortaa-Regular.woff') format('woff'), url('../fonts/Comfortaa/Comfortaa-Regular.ttf') format('truetype'), url('../fonts/Comfortaa/Comfortaa-Regular.svg') format('svg');
}

body {
	margin: 0;
	padding: 0;
}

body #header {
	width: 1200px;
	height: 180px;
	background-color: black;
	margin: 0 auto;
	box-shadow: 0 0 15px 5px #888888 inset;
}

body #header #titleplace {
	font-family: 'Comfortaa-Regular';
	width: 750px;
	padding: 136px 0 0 0;
	margin: 0 0 0 450px;
	font-size: 50px;
	color: white;
	overflow: hidden;
}

body #body {
	margin: 0 auto;
	
	width: 1200px;
	min-height: 1000px;
	height:auto;
	box-shadow: 0 0 15px 5px #888888 inset;
}

body #body #display {
padding:0 0 50px 0;
	margin: 0 auto;
	width: 1200px;
	min-height: 1000px;
	height:auto;
	box-shadow: 0 0 15px 5px #888888 inset;
}

body #body #display .oneitem {
	margin: 0 auto;
	height: 150px;
	padding: 30px 0 0 0;
	width: 1100px;
}

body #body #display .oneitem .showplace {
	margin: 0 auto;
	height: 150px;
	padding: 0;
	width: 1100px;
	box-shadow: 0 0 15px 5px #888888;
}

body #body #display .oneitem .showplace .displayweekday {
	margin: 10px 0 0 20px;
	height: 30px;
	font-size: 25px;
	padding: 0;
	width: 150px;
	float: left;
	border: 1px #666666 solid;
	text-align: center;
	font-family: 'Comfortaa-Regular';
	border-radius: 10px;
}

body #body #display .oneitem .showplace .displaymonth {
	margin: 10px 0 0 20px;
	height: 30px;
	font-size: 25px;
	padding: 0;
	width: 150px;
	float: left;
	border: 1px #666666 solid;
	text-align: center;
	font-family: 'Comfortaa-Regular';
	border-radius: 10px;
}

body #body #display .oneitem .showplace .displayday {
	margin: 10px 0 0 20px;
	height: 30px;
	font-size: 25px;
	padding: 0;
	width: 150px;
	float: left;
	border: 1px #666666 solid;
	text-align: center;
	font-family: 'Comfortaa-Regular';
	border-radius: 10px;
}

body #body #display .oneitem .showplace .displayavailable {
	margin: 10px 10px 0 0;
	height: 30px;
	font-size: 25px;
	padding: 0;
	width: 150px;
	float: right;
	border: 1px #666666 solid;
	text-align: center;
	font-family: 'Comfortaa-Regular';
	border-radius: 10px;
}

body #body #display .oneitem .showplace .displaytime {
	margin: 40px auto 0;
	height: 30px;
	font-size: 25px;
	padding: 0;
	width: 840px;
	background-color: #dddddd;
	text-align: center;
	font-family: 'Comfortaa-Regular';
	border-radius: 10px;
}

body #body #display .oneitem .showplace .displaytime .realtime {
	margin: 0 auto;
	height: 30px;
	font-size: 25px;
	padding: 0;
	width: 500px;
	background-color: green;
	opacity: 0.5;
	text-align: center;
	font-family: 'Comfortaa-Regular';
	border-radius: 10px;
}

body #body #display .oneitem .showplace .displaytime .realtime .realstarttime {
	margin: 0 0 0 -23px;
	height: 30px;
	font-size: 25px;
	float: left;
}

body #body #display .oneitem .showplace .displaytime .realtime .realendtime {
	margin: 0 -23px 0 0;
	height: 30px;
	font-size: 25px;
	float: right;
}

body #body #display .oneitem .showplace .description {
	margin: 10px auto 0;
	width: 840px;
	height: 50px;
	font-size: 20px;
	font-family: 'Comfortaa-Regular';
}

body #foot {
	width: 1200px;
	height: 199px;
	background-color: black;
	margin: 0 auto 50px;
	padding: 1px 0 0 0;
	box-shadow: 0 0 15px 5px #888888 inset;
}

body #foot #contactinfo {
	margin: -22px 0 0 50px;
	font-family: 'Comfortaa-Regular';
	font-size: 30px;
	color: white;
}
</style>
<body>
	<div id='header'>
		<div id='titleplace'>Mingxuan's Available Time</div>
	</div>
	<div id='body'>
		<div id='display'></div>
	</div>
	<div id='foot'>
		<div id='contactinfo'>ContactInfo</div>
	</div>

</body>
<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>

<script>
	$.ajaxSetup({
		async : false
	});
	var innerHTML = "";
	var response;
	$
			.post(
					'/getalltime',
					{},
					function(res) {

						response = res.mytimes;
						for (i = 0; i < res.mytimes.length; i++) {
							innerHTML = innerHTML + "<div class='oneitem'>";
							innerHTML = innerHTML + "<div class='showplace'>";
							innerHTML = innerHTML
									+ "<div class='displayweekday'>";
							innerHTML = innerHTML
									+ res.mytimes[i].onetime.weekday;
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML + "<div class='displayday'>";
							innerHTML = innerHTML + res.mytimes[i].onetime.day;
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML
									+ "<div class='displaymonth'>";
							innerHTML = innerHTML
									+ res.mytimes[i].onetime.month;
							innerHTML = innerHTML + "</div>";

							innerHTML = innerHTML
									+ "<div class='displayavailable'>";
							innerHTML = innerHTML
									+ res.mytimes[i].onetime.available;
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML + "<br>";
							innerHTML = innerHTML
									+ "<div class='displaytime' id='";
			innerHTML = innerHTML + "period";
			innerHTML = innerHTML + i;
			innerHTML = innerHTML + "'>";
							innerHTML = innerHTML
									+ "<div class='realtime' id='";
			innerHTML = innerHTML + "realtime";
			innerHTML = innerHTML + i;
			innerHTML = innerHTML + "'>";
							innerHTML = innerHTML
									+ "<div class='realstarttime' id='";
			innerHTML = innerHTML + "realstarttime";
			innerHTML = innerHTML + i;
			innerHTML = innerHTML + "'>";
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML
									+ "<div class='realendtime' id='";
			innerHTML = innerHTML + "realendtime";
			innerHTML = innerHTML + i;
			innerHTML = innerHTML + "'>";
							innerHTML = innerHTML + "</div>";

							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML
									+ "<div class='description' id='";
	innerHTML = innerHTML + "description";
	innerHTML = innerHTML + i;
	innerHTML = innerHTML + "'>";
							innerHTML = innerHTML
									+ res.mytimes[i].onetime.description;
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML + "</div>";
							innerHTML = innerHTML + "</div>";
						}
						document.getElementById('display').innerHTML = innerHTML;
					})
	for (i = 0; i < response.length; i++) {
		settime(i);
	}

	var periodname = "";
	var startname = "";
	var endname = "";
	var periodInnerHTML = "";
	var width = "";
	var leftmargin = "";
	function settime(i) {
		periodname = "realtime";
		periodname = periodname + i;
		startname = "realstarttime";
		startname = startname + i;
		endname = "realendtime";
		endname = endname + i;
		width = (response[i].onetime.endtime - response[i].onetime.starttime) * 70;
		leftmargin = (response[i].onetime.starttime - 9) * 70;
		document.getElementById(periodname).style.width = width + "px";
		document.getElementById(periodname).style.margin = "0 0 0 "
				+ leftmargin + "px";
		document.getElementById(startname).innerHTML = response[i].onetime.starttime;
		document.getElementById(endname).innerHTML = response[i].onetime.endtime;
	}
</script>
</html>